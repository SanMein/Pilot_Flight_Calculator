export const LANGS = {
    en: {
        title: "Pilot Flight Calculator",
        desc: "Flight parameters calculation tool",
        sectionFlightParams: "Flight Parameters",
        sectionResults: "Calculation Results",
        currentAlt: "Current Altitude",
        targetAlt: "Target Altitude",
        speed: "Speed",
        adi: "ADI Angle (-15° to +15°)",
        distance: "Distance to Airport",
        fillFields: "Fill in all fields",
        calcAuto: "Calculation is performed automatically",
        notes: "Notes:",
        note1: "Positive ADI angle = climb",
        note2: "Negative ADI angle = descent",
        note3: "Calculations are approximate, consider weather conditions",
        note4: "The value of the Horizontal Distance is equal to the optimal distance to descend from the airport",
        note5: "Real flights require additional factors (wind, aircraft type)",
        addProfile: "Add profile",
        deleteProfile: "Delete profile",
        custom: "Custom",
        approach: "Standard Approach",
        shortField: "Short Field Landing",
        climbOut: "Climb Out",
        settings: "Settings",
        langLabel: "Language / Язык / Idioma / Sprache",
        enterAlt: "Enter altitude",
        enterSpeed: "Enter speed",
        enterDist: "Enter distance",
        newProfileName: "Profile name",
        verticalSpeed: "Vertical Speed",
        timeToReach: "Time to Reach Altitude",
        horizontalDistance: "Horizontal Distance",
        canReach: "Can reach airport in time",
        cannotReach: "Cannot reach airport - insufficient distance",
        noVertical: "No vertical movement",
        invalidInput: "Invalid input (negative values)"
    },
    ru: {
        title: "Калькулятор пилота",
        desc: "Инструмент расчёта параметров полёта",
        sectionFlightParams: "Параметры полёта",
        sectionResults: "Результаты расчёта",
        currentAlt: "Текущая высота",
        targetAlt: "Целевая высота",
        speed: "Скорость",
        adi: "Угол ADI (-15° до +15°)",
        distance: "Расстояние до аэродрома",
        fillFields: "Заполните все поля",
        calcAuto: "Расчёт производится автоматически",
        notes: "Примечания:",
        note1: "Положительный угол ADI = набор высоты",
        note2: "Отрицательный угол ADI = снижение",
        note3: "Расчёты приблизительны, учитывайте погодные условия",
        note4: "Горизонтальная дистанция — оптимальное расстояние для снижения с аэродрома",
        note5: "Реальные полёты требуют учёта доп. факторов (ветер, тип самолёта)",
        addProfile: "Добавить профиль",
        deleteProfile: "Удалить профиль",
        custom: "Пользовательский",
        approach: "Стандартный заход",
        shortField: "Посадка на короткую полосу",
        climbOut: "Набор высоты",
        settings: "Настройки",
        langLabel: "Язык / Language / Idioma / Sprache",
        enterAlt: "Введите высоту",
        enterSpeed: "Введите скорость",
        enterDist: "Введите расстояние",
        newProfileName: "Имя профиля",
        verticalSpeed: "Вертикальная скорость",
        timeToReach: "Время достижения высоты",
        horizontalDistance: "Горизонтальная дистанция",
        canReach: "Можно достичь аэродрома вовремя",
        cannotReach: "Нельзя достичь аэродрома - недостаточно расстояния",
        noVertical: "Нет вертикального движения",
        invalidInput: "Неверный ввод (отрицательные значения)"
    },
    es: {
        title: "Calculadora de Vuelo",
        desc: "Herramienta de cálculo de parámetros de vuelo",
        sectionFlightParams: "Parámetros de Vuelo",
        sectionResults: "Resultados del Cálculo",
        currentAlt: "Altitud Actual",
        targetAlt: "Altitud Objetivo",
        speed: "Velocidad",
        adi: "Ángulo ADI (-15° a +15°)",
        distance: "Distancia al aeropuerto",
        fillFields: "Complete todos los campos",
        calcAuto: "El cálculo se realiza automáticamente",
        notes: "Notas:",
        note1: "Ángulo ADI positivo = ascenso",
        note2: "Ángulo ADI negativo = descenso",
        note3: "Los cálculos son aproximados, tenga en cuenta el clima",
        note4: "La Distancia Horizontal es la distancia óptima para descender desde el aeropuerto",
        note5: "Vuelos reales requieren factores adicionales (viento, tipo de aeronave)",
        addProfile: "Añadir perfil",
        deleteProfile: "Eliminar perfil",
        custom: "Personalizado",
        approach: "Aproximación estándar",
        shortField: "Aterrizaje en pista corta",
        climbOut: "Ascenso",
        settings: "Ajustes",
        langLabel: "Idioma / Язык / Language / Sprache",
        enterAlt: "Introduzca la altitud",
        enterSpeed: "Introduzca la velocidad",
        enterDist: "Introduzca la distancia",
        newProfileName: "Nombre del perfil",
        verticalSpeed: "Velocidad Vertical",
        timeToReach: "Tiempo para Alcanzar Altitud",
        horizontalDistance: "Distancia Horizontal",
        canReach: "Puede alcanzar el aeropuerto a tiempo",
        cannotReach: "No puede alcanzar el aeropuerto - distancia insuficiente",
        noVertical: "Sin movimiento vertical",
        invalidInput: "Entrada inválida (valores negativos)"
    },
    de: {
        title: "Pilot Flugrechner",
        desc: "Berechnungstool für Flugparameter",
        sectionFlightParams: "Flugparameter",
        sectionResults: "Berechnungsergebnisse",
        currentAlt: "Aktuelle Höhe",
        targetAlt: "Zielhöhe",
        speed: "Geschwindigkeit",
        adi: "ADI-Winkel (-15° bis +15°)",
        distance: "Entfernung zum Flughafen",
        fillFields: "Alle Felder ausfüllen",
        calcAuto: "Berechnung erfolgt automatisch",
        notes: "Hinweise:",
        note1: "Positiver ADI-Winkel = Steigflug",
        note2: "Negativer ADI-Winkel = Sinkflug",
        note3: "Berechnungen sind Näherungswerte, Wetterbedingungen berücksichtigen",
        note4: "Der Wert der horizontalen Entfernung ist die optimale Entfernung zum Sinkflug vom Flughafen",
        note5: "Echte Flüge erfordern zusätzliche Faktoren (Wind, Flugzeugtyp)",
        addProfile: "Profil hinzufügen",
        deleteProfile: "Profil löschen",
        custom: "Benutzerdefiniert",
        approach: "Standardanflug",
        shortField: "Kurzbahnlandung",
        climbOut: "Steigflug",
        settings: "Einstellungen",
        langLabel: "Sprache / Язык / Language / Idioma",
        enterAlt: "Höhe eingeben",
        enterSpeed: "Geschwindigkeit eingeben",
        enterDist: "Entfernung eingeben",
        newProfileName: "Profilname",
        verticalSpeed: "Vertikale Geschwindigkeit",
        timeToReach: "Zeit zum Erreichen der Höhe",
        horizontalDistance: "Horizontale Entfernung",
        canReach: "Kann Flughafen rechtzeitig erreichen",
        cannotReach: "Kann Flughafen nicht erreichen - unzureichende Entfernung",
        noVertical: "Keine vertikale Bewegung",
        invalidInput: "Ungültige Eingabe (negative Werte)"
    }
};

export function getLang() {
    return localStorage.getItem('pilot_lang') || 'en';
}

export function setLang(lang) {
    if (!LANGS[lang]) lang = 'en';

    document.documentElement.lang = lang;
    document.body.lang = lang;

    // Update all translatable elements
    const elements = {
        'title-main': 'title',
        'desc-main': 'desc',
        'section-flight-params': 'sectionFlightParams',
        'section-results-title': 'sectionResults',
        'lbl-current-alt': 'currentAlt',
        'lbl-target-alt': 'targetAlt',
        'lbl-speed': 'speed',
        'lbl-adi': 'adi',
        'lbl-dist': 'distance',
        'notes-header': 'notes',
        'note-1': 'note1',
        'note-2': 'note2',
        'note-3': 'note3',
        'note-4': 'note4',
        'note-5': 'note5',
        'modalHeader': 'settings'
    };

    Object.entries(elements).forEach(([elementId, translationKey]) => {
        const element = document.getElementById(elementId);
        if (element) {
            element.textContent = LANGS[lang][translationKey];
        }
    });

    // Update placeholders
    const placeholders = {
        'currentAlt': 'enterAlt',
        'targetAlt': 'enterAlt',
        'speed': 'enterSpeed',
        'airportDistance': 'enterDist'
    };

    Object.entries(placeholders).forEach(([elementId, translationKey]) => {
        const element = document.getElementById(elementId);
        if (element) {
            element.placeholder = LANGS[lang][translationKey];
        }
    });

    // Update language label
    const langLabel = document.querySelector('label[for="langSelect"]');
    if (langLabel) {
        langLabel.textContent = LANGS[lang].langLabel;
    }

    // Save language preference
    localStorage.setItem('pilot_lang', lang);

    // Dispatch event for other components to update
    window.dispatchEvent(new CustomEvent('languageChanged', { detail: lang }));
}